% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/downloads.R
\name{download_tables}
\alias{download_tables}
\title{Download multiple tables in parallel}
\usage{
download_tables(
  table_info,
  schema = "llds",
  output_dir = NULL,
  n_cores = NULL,
  connection_args = list()
)
}
\arguments{
\item{table_info}{A list of lists, each with elements:
\describe{
\item{table}{Character. Table name.}
\item{year_col}{Character. Year column name.}
}}

\item{schema}{Character. Schema name. Default: "llds".}

\item{output_dir}{Character or NULL. Directory to save CSVs. If NULL
(default), data is returned but not saved.}

\item{n_cores}{Integer. Number of parallel workers. If NULL (default),
determined by \code{optimal_cores()}.}

\item{connection_args}{List. Additional arguments passed to
\code{create_connection()} for each worker. Default: list().}
}
\value{
A named list of \code{data.table} objects, one per table.
}
\description{
Sequentially processes a list of table definitions, downloading each in
parallel by year. Optionally saves results to CSV.
}
\examples{
\dontrun{
tables <- list(
  list(table = "LLDS_HDR_20240315HAC", year_col = "LANDYR"),
  list(table = "LLDS_DETAIL_20240315HAC", year_col = "HDR_LANDYR")
)

# Download and save to disk
results <- download_tables(tables, output_dir = "logbook-data")

# Download without saving
results <- download_tables(tables)
}
}
