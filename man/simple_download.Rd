% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/downloads.R
\name{simple_download}
\alias{simple_download}
\title{Download a table using a single connection}
\usage{
simple_download(
  table,
  year_col = NULL,
  schema = "llds",
  years = NULL,
  con = NULL,
  connection_args = list()
)
}
\arguments{
\item{table}{Character. Table name.}

\item{year_col}{Character or NULL. Name of the year column for filtering.
If NULL, the entire table is downloaded.}

\item{schema}{Character. Schema name. Default: "llds".}

\item{years}{Integer vector or NULL. Years to download. If NULL (default)
and \code{year_col} is provided, all years are downloaded. If both
\code{year_col} and \code{years} are NULL, the full table is downloaded.}

\item{con}{A DBI connection object or NULL. If provided, this connection
is used directly and the caller is responsible for managing the connection
lifecycle. If NULL (default), a connection is created internally using
\code{connection_args} and disconnected on exit.}

\item{connection_args}{List. Additional arguments passed to
\code{create_connection()} when \code{con} is NULL. Default: list().}
}
\value{
A \code{data.table} containing the downloaded rows.
}
\description{
Simple single-threaded download of a table, optionally filtered by year.
Useful for small tables or environments where parallel connections are
not available.
}
\examples{
\dontrun{
# Download an entire small table
ref <- simple_download(table = "LLDS_SOME_REF_TABLE")

# Download specific years
hdr <- simple_download(
  table = "LLDS_HDR_20240315HAC",
  year_col = "LANDYR",
  years = 2020:2023
)

# Download using a provided connection (e.g., DSN connection)
con <- create_dsn_connection("PIRO LOTUS")
catch <- simple_download(
  table = "LDS_CATCH_V",
  schema = "newobs",
  con = con
)
DBI::dbDisconnect(con)
}
}
