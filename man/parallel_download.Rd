% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/downloads.R
\name{parallel_download}
\alias{parallel_download}
\title{Download a table in parallel by year}
\usage{
parallel_download(
  table,
  year_col,
  schema = "llds",
  years = NULL,
  n_cores = NULL,
  connection_args = list()
)
}
\arguments{
\item{table}{Character. Table name.}

\item{year_col}{Character. Name of the year column used for partitioning.}

\item{schema}{Character. Schema name. Default: "llds".}

\item{years}{Integer vector. Years to download. If NULL (default), all
available years are queried automatically.}

\item{n_cores}{Integer. Number of parallel workers. If NULL (default),
determined by \code{optimal_cores()}.}

\item{connection_args}{List. Additional arguments passed to
\code{create_connection()} for each worker. Default: list().}
}
\value{
A \code{data.table} containing all downloaded rows.
}
\description{
Partitions a table by year column and downloads chunks in parallel across
multiple database connections. Each worker opens its own connection,
downloads its assigned years, and disconnects.
}
\examples{
\dontrun{
# Download with automatic year detection and core selection
hdr <- parallel_download(
  table = "LLDS_HDR_20240315HAC",
  year_col = "LANDYR"
)

# Download specific years with custom core count
detail <- parallel_download(
  table = "LLDS_DETAIL_20240315HAC",
  year_col = "HDR_LANDYR",
  years = 2010:2023,
  n_cores = 4
)
}
}
